var htmlTemplates=htmlTemplates||{};htmlTemplates["ionic-validation-directive-template.html"]='<ng-form>\n    <div class="validation-item-container" ng-class="{ \'has-error\': formInvalid && (formTouched || formSubmitted), \'message-open\': showErrorMessage, \'ionic-style\': ionicStyle }">\n        <div class="validation-item-flex">\n            <div class="item-container">\n                <ng-transclude></ng-transclude>\n            </div>\n            <div class="icon-container" ng-show="showErrorIcon">\n                <i class="icon ion-alert-circled assertive error-icon" on-touch="showErrorMessage = !showErrorMessage"></i>\n            </div>\n        </div>\n        <div class="error-message" ng-messages="formCtrl.$error" role="alert">\n            <div class="error-text" ng-message-exp="key" ng-repeat="(key, value) in errors">\n                {{ value }}\n            </div>\n        </div>\n    </div>\n</ng-form>',function(){"use strict";angular.module("ionic-validation-directive",[]).directive("validationItem",["$timeout",function($timeout){return{restrict:"E",require:"form",replace:!0,transclude:!0,template:htmlTemplates["ionic-validation-directive-template.html"],scope:{errors:"="},link:function(scope,element,attrs,formCtrl){function toggleErrorIcon(show){show&&formCtrl.$invalid?scope.showErrorIcon=!0:$timeout(function(){scope.showErrorIcon=!1},200)}scope.formCtrl=formCtrl,scope.formTouched=!1,scope.formSubmitted=!1,scope.showErrorIcon=!1,scope.showErrorMessage=!1,scope.$on("$ionicView.loaded",function(){var itemNodes=element.children()[0].querySelectorAll(".item");scope.ionicStyle=itemNodes.length>0}),angular.forEach(formCtrl,function(value,key){"object"==typeof value&&value.hasOwnProperty("$modelValue")&&scope.$watch(function(){return value.$touched},function(newVal,oldVal){newVal&&(toggleErrorIcon(!0),$timeout(function(){scope.formTouched=!0},50))})}),scope.$on("formSubmitted",function(e,submitted){submitted||(submitted=!0),toggleErrorIcon(submitted),scope.formSubmitted=submitted}),scope.$on("formTouched",function(e,touched){touched||(touched=!0),toggleErrorIcon(touched),scope.formTouched=touched}),scope.$watch("showErrorMessage",function(newVal){var messageContainer=element.children()[0].querySelector(".error-message");if(newVal){var errorMessageNode=element.children()[0].querySelector(".error-text");if(errorMessageNode){var errorMessageHeight=element.children()[0].querySelector(".error-text").clientHeight;messageContainer.style.maxHeight=(errorMessageHeight+4).toString()+"px"}}else messageContainer.style.maxHeight="0"}),scope.$watch("formCtrl.$invalid",function(newVal,oldVal){toggleErrorIcon(newVal),scope.$applyAsync(function(scope){scope.formInvalid=newVal}),newVal===!1&&(scope.showErrorMessage=!1)})}}}])}();